{"ast":null,"code":"import { duplicate, hash } from '../../util';\nimport { DataFlowNode } from './dataflow';\n/**\n * A class for loess transform nodes\n */\nexport class LoessTransformNode extends DataFlowNode {\n  clone() {\n    return new LoessTransformNode(null, duplicate(this.transform));\n  }\n  constructor(parent, transform) {\n    super(parent);\n    this.transform = transform;\n    this.transform = duplicate(transform); // duplicate to prevent side effects\n    const specifiedAs = this.transform.as ?? [undefined, undefined];\n    this.transform.as = [specifiedAs[0] ?? transform.on, specifiedAs[1] ?? transform.loess];\n  }\n  dependentFields() {\n    return new Set([this.transform.loess, this.transform.on, ...(this.transform.groupby ?? [])]);\n  }\n  producedFields() {\n    return new Set(this.transform.as);\n  }\n  hash() {\n    return `LoessTransform ${hash(this.transform)}`;\n  }\n  assemble() {\n    const {\n      loess,\n      on,\n      ...rest\n    } = this.transform;\n    const result = {\n      type: 'loess',\n      x: on,\n      y: loess,\n      ...rest\n    };\n    return result;\n  }\n}","map":{"version":3,"names":["duplicate","hash","DataFlowNode","LoessTransformNode","clone","transform","constructor","parent","specifiedAs","as","undefined","on","loess","dependentFields","Set","groupby","producedFields","assemble","rest","result","type","x","y"],"sources":["C:\\Users\\sutul\\node_modules\\vega-lite\\src\\compile\\data\\loess.ts"],"sourcesContent":["import {LoessTransform as VgLoessTransform} from 'vega';\nimport {LoessTransform} from '../../transform';\nimport {duplicate, hash} from '../../util';\nimport {DataFlowNode} from './dataflow';\n\n/**\n * A class for loess transform nodes\n */\nexport class LoessTransformNode extends DataFlowNode {\n  public clone() {\n    return new LoessTransformNode(null, duplicate(this.transform));\n  }\n\n  constructor(\n    parent: DataFlowNode,\n    private transform: LoessTransform\n  ) {\n    super(parent);\n    this.transform = duplicate(transform); // duplicate to prevent side effects\n    const specifiedAs = this.transform.as ?? [undefined, undefined];\n    this.transform.as = [specifiedAs[0] ?? transform.on, specifiedAs[1] ?? transform.loess];\n  }\n\n  public dependentFields() {\n    return new Set([this.transform.loess, this.transform.on, ...(this.transform.groupby ?? [])]);\n  }\n\n  public producedFields() {\n    return new Set(this.transform.as);\n  }\n\n  public hash() {\n    return `LoessTransform ${hash(this.transform)}`;\n  }\n\n  public assemble(): VgLoessTransform {\n    const {loess, on, ...rest} = this.transform;\n    const result: VgLoessTransform = {\n      type: 'loess',\n      x: on,\n      y: loess,\n      ...rest\n    };\n    return result;\n  }\n}\n"],"mappings":"AAEA,SAAQA,SAAS,EAAEC,IAAI,QAAO,YAAY;AAC1C,SAAQC,YAAY,QAAO,YAAY;AAEvC;;;AAGA,OAAM,MAAOC,kBAAmB,SAAQD,YAAY;EAC3CE,KAAKA,CAAA;IACV,OAAO,IAAID,kBAAkB,CAAC,IAAI,EAAEH,SAAS,CAAC,IAAI,CAACK,SAAS,CAAC,CAAC;EAChE;EAEAC,YACEC,MAAoB,EACZF,SAAyB;IAEjC,KAAK,CAACE,MAAM,CAAC;IAFL,KAAAF,SAAS,GAATA,SAAS;IAGjB,IAAI,CAACA,SAAS,GAAGL,SAAS,CAACK,SAAS,CAAC,CAAC,CAAC;IACvC,MAAMG,WAAW,GAAG,IAAI,CAACH,SAAS,CAACI,EAAE,IAAI,CAACC,SAAS,EAAEA,SAAS,CAAC;IAC/D,IAAI,CAACL,SAAS,CAACI,EAAE,GAAG,CAACD,WAAW,CAAC,CAAC,CAAC,IAAIH,SAAS,CAACM,EAAE,EAAEH,WAAW,CAAC,CAAC,CAAC,IAAIH,SAAS,CAACO,KAAK,CAAC;EACzF;EAEOC,eAAeA,CAAA;IACpB,OAAO,IAAIC,GAAG,CAAC,CAAC,IAAI,CAACT,SAAS,CAACO,KAAK,EAAE,IAAI,CAACP,SAAS,CAACM,EAAE,EAAE,IAAI,IAAI,CAACN,SAAS,CAACU,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;EAC9F;EAEOC,cAAcA,CAAA;IACnB,OAAO,IAAIF,GAAG,CAAC,IAAI,CAACT,SAAS,CAACI,EAAE,CAAC;EACnC;EAEOR,IAAIA,CAAA;IACT,OAAO,kBAAkBA,IAAI,CAAC,IAAI,CAACI,SAAS,CAAC,EAAE;EACjD;EAEOY,QAAQA,CAAA;IACb,MAAM;MAACL,KAAK;MAAED,EAAE;MAAE,GAAGO;IAAI,CAAC,GAAG,IAAI,CAACb,SAAS;IAC3C,MAAMc,MAAM,GAAqB;MAC/BC,IAAI,EAAE,OAAO;MACbC,CAAC,EAAEV,EAAE;MACLW,CAAC,EAAEV,KAAK;MACR,GAAGM;KACJ;IACD,OAAOC,MAAM;EACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}