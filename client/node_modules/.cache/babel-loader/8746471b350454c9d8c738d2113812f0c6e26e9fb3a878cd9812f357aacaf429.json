{"ast":null,"code":"import { getVgPositionChannel } from '../../../channel';\nimport * as log from '../../../log';\nimport { isSignalRef } from '../../../vega.schema';\nimport { getMarkPropOrConfig } from '../../common';\nconst ALIGNED_X_CHANNEL = {\n  left: 'x',\n  center: 'xc',\n  right: 'x2'\n};\nconst BASELINED_Y_CHANNEL = {\n  top: 'y',\n  middle: 'yc',\n  bottom: 'y2'\n};\nexport function vgAlignedPositionChannel(channel, markDef, config) {\n  let defaultAlign = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'middle';\n  if (channel === 'radius' || channel === 'theta') {\n    return getVgPositionChannel(channel);\n  }\n  const alignChannel = channel === 'x' ? 'align' : 'baseline';\n  const align = getMarkPropOrConfig(alignChannel, markDef, config);\n  let alignExcludingSignal;\n  if (isSignalRef(align)) {\n    log.warn(log.message.rangeMarkAlignmentCannotBeExpression(alignChannel));\n    alignExcludingSignal = undefined;\n  } else {\n    alignExcludingSignal = align;\n  }\n  // FIXME: remove as any\n  if (channel === 'x') {\n    return ALIGNED_X_CHANNEL[alignExcludingSignal || (defaultAlign === 'top' ? 'left' : 'center')];\n  } else {\n    return BASELINED_Y_CHANNEL[alignExcludingSignal || defaultAlign];\n  }\n}","map":{"version":3,"names":["getVgPositionChannel","log","isSignalRef","getMarkPropOrConfig","ALIGNED_X_CHANNEL","left","center","right","BASELINED_Y_CHANNEL","top","middle","bottom","vgAlignedPositionChannel","channel","markDef","config","defaultAlign","arguments","length","undefined","alignChannel","align","alignExcludingSignal","warn","message","rangeMarkAlignmentCannotBeExpression"],"sources":["C:\\Users\\sutul\\node_modules\\vega-lite\\src\\compile\\mark\\encode\\position-align.ts"],"sourcesContent":["import {Align, SignalRef, TextBaseline} from 'vega';\nimport {getVgPositionChannel} from '../../../channel';\nimport {Config} from '../../../config';\nimport * as log from '../../../log';\nimport {Mark, MarkDef} from '../../../mark';\nimport {isSignalRef, VgEncodeChannel} from '../../../vega.schema';\nimport {getMarkPropOrConfig} from '../../common';\n\nconst ALIGNED_X_CHANNEL: Record<Align, VgEncodeChannel> = {\n  left: 'x',\n  center: 'xc',\n  right: 'x2'\n};\n\nconst BASELINED_Y_CHANNEL = {\n  top: 'y',\n  middle: 'yc',\n  bottom: 'y2'\n};\n\nexport function vgAlignedPositionChannel(\n  channel: 'x' | 'y' | 'radius' | 'theta',\n  markDef: MarkDef<Mark, SignalRef>,\n  config: Config<SignalRef>,\n  defaultAlign: 'top' | 'middle' = 'middle'\n) {\n  if (channel === 'radius' || channel === 'theta') {\n    return getVgPositionChannel(channel);\n  }\n  const alignChannel = channel === 'x' ? 'align' : 'baseline';\n  const align = getMarkPropOrConfig(alignChannel, markDef, config);\n\n  let alignExcludingSignal: Align | TextBaseline;\n\n  if (isSignalRef(align)) {\n    log.warn(log.message.rangeMarkAlignmentCannotBeExpression(alignChannel));\n    alignExcludingSignal = undefined;\n  } else {\n    alignExcludingSignal = align;\n  }\n\n  // FIXME: remove as any\n  if (channel === 'x') {\n    return (ALIGNED_X_CHANNEL as any)[alignExcludingSignal || (defaultAlign === 'top' ? 'left' : 'center')];\n  } else {\n    return (BASELINED_Y_CHANNEL as any)[alignExcludingSignal || defaultAlign];\n  }\n}\n"],"mappings":"AACA,SAAQA,oBAAoB,QAAO,kBAAkB;AAErD,OAAO,KAAKC,GAAG,MAAM,cAAc;AAEnC,SAAQC,WAAW,QAAwB,sBAAsB;AACjE,SAAQC,mBAAmB,QAAO,cAAc;AAEhD,MAAMC,iBAAiB,GAAmC;EACxDC,IAAI,EAAE,GAAG;EACTC,MAAM,EAAE,IAAI;EACZC,KAAK,EAAE;CACR;AAED,MAAMC,mBAAmB,GAAG;EAC1BC,GAAG,EAAE,GAAG;EACRC,MAAM,EAAE,IAAI;EACZC,MAAM,EAAE;CACT;AAED,OAAM,SAAUC,wBAAwBA,CACtCC,OAAuC,EACvCC,OAAiC,EACjCC,MAAyB,EACgB;EAAA,IAAzCC,YAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAiC,QAAQ;EAEzC,IAAIJ,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAK,OAAO,EAAE;IAC/C,OAAOb,oBAAoB,CAACa,OAAO,CAAC;EACtC;EACA,MAAMO,YAAY,GAAGP,OAAO,KAAK,GAAG,GAAG,OAAO,GAAG,UAAU;EAC3D,MAAMQ,KAAK,GAAGlB,mBAAmB,CAACiB,YAAY,EAAEN,OAAO,EAAEC,MAAM,CAAC;EAEhE,IAAIO,oBAA0C;EAE9C,IAAIpB,WAAW,CAACmB,KAAK,CAAC,EAAE;IACtBpB,GAAG,CAACsB,IAAI,CAACtB,GAAG,CAACuB,OAAO,CAACC,oCAAoC,CAACL,YAAY,CAAC,CAAC;IACxEE,oBAAoB,GAAGH,SAAS;EAClC,CAAC,MAAM;IACLG,oBAAoB,GAAGD,KAAK;EAC9B;EAEA;EACA,IAAIR,OAAO,KAAK,GAAG,EAAE;IACnB,OAAQT,iBAAyB,CAACkB,oBAAoB,KAAKN,YAAY,KAAK,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC;EACzG,CAAC,MAAM;IACL,OAAQR,mBAA2B,CAACc,oBAAoB,IAAIN,YAAY,CAAC;EAC3E;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}