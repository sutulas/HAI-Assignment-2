{"ast":null,"code":"import { isArray, isString } from 'vega-util';\nimport { pick } from './util';\nexport function extractTitleConfig(titleConfig) {\n  const {\n    // These are non-mark title config that need to be hardcoded\n    anchor,\n    frame,\n    offset,\n    orient,\n    angle,\n    limit,\n    // color needs to be redirect to fill\n    color,\n    // subtitle properties\n    subtitleColor,\n    subtitleFont,\n    subtitleFontSize,\n    subtitleFontStyle,\n    subtitleFontWeight,\n    subtitleLineHeight,\n    subtitlePadding,\n    // The rest are mark config.\n    ...rest\n  } = titleConfig;\n  const titleMarkConfig = {\n    ...rest,\n    ...(color ? {\n      fill: color\n    } : {})\n  };\n  // These are non-mark title config that need to be hardcoded\n  const nonMarkTitleProperties = {\n    ...(anchor ? {\n      anchor\n    } : {}),\n    ...(frame ? {\n      frame\n    } : {}),\n    ...(offset ? {\n      offset\n    } : {}),\n    ...(orient ? {\n      orient\n    } : {}),\n    ...(angle !== undefined ? {\n      angle\n    } : {}),\n    ...(limit !== undefined ? {\n      limit\n    } : {})\n  };\n  // subtitle part can stay in config.title since header titles do not use subtitle\n  const subtitle = {\n    ...(subtitleColor ? {\n      subtitleColor\n    } : {}),\n    ...(subtitleFont ? {\n      subtitleFont\n    } : {}),\n    ...(subtitleFontSize ? {\n      subtitleFontSize\n    } : {}),\n    ...(subtitleFontStyle ? {\n      subtitleFontStyle\n    } : {}),\n    ...(subtitleFontWeight ? {\n      subtitleFontWeight\n    } : {}),\n    ...(subtitleLineHeight ? {\n      subtitleLineHeight\n    } : {}),\n    ...(subtitlePadding ? {\n      subtitlePadding\n    } : {})\n  };\n  const subtitleMarkConfig = pick(titleConfig, ['align', 'baseline', 'dx', 'dy', 'limit']);\n  return {\n    titleMarkConfig,\n    subtitleMarkConfig,\n    nonMarkTitleProperties,\n    subtitle\n  };\n}\nexport function isText(v) {\n  return isString(v) || isArray(v) && isString(v[0]);\n}","map":{"version":3,"names":["isArray","isString","pick","extractTitleConfig","titleConfig","anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding","rest","titleMarkConfig","fill","nonMarkTitleProperties","undefined","subtitle","subtitleMarkConfig","isText","v"],"sources":["C:\\Users\\sutul\\node_modules\\vega-lite\\src\\title.ts"],"sourcesContent":["import {BaseTitle, SignalRef, Text, TextEncodeEntry, TitleAnchor} from 'vega';\nimport {isArray, isString} from 'vega-util';\nimport {ExprRef} from './expr';\nimport {MarkConfig} from './mark';\nimport {pick} from './util';\nimport {MapExcludeValueRefAndReplaceSignalWith, MappedExcludeValueRef} from './vega.schema';\n\nexport type BaseTitleNoValueRefs<ES extends ExprRef | SignalRef> = MapExcludeValueRefAndReplaceSignalWith<\n  Omit<BaseTitle, 'align' | 'baseline'>,\n  ES\n> &\n  // Since some logic depends on align/baseline, Vega-Lite does NOT allow signal for them.\n  MappedExcludeValueRef<Pick<BaseTitle, 'align' | 'baseline'>>;\n\nexport type TitleConfig<ES extends ExprRef | SignalRef> = BaseTitleNoValueRefs<ES>;\n\nexport interface TitleBase<ES extends ExprRef | SignalRef> extends BaseTitleNoValueRefs<ES> {\n  /**\n   * The anchor position for placing the title. One of `\"start\"`, `\"middle\"`, or `\"end\"`. For example, with an orientation of top these anchor positions map to a left-, center-, or right-aligned title.\n   *\n   * __Default value:__ `\"middle\"` for [single](https://vega.github.io/vega-lite/docs/spec.html) and [layered](https://vega.github.io/vega-lite/docs/layer.html) views.\n   * `\"start\"` for other composite views.\n   *\n   * __Note:__ [For now](https://github.com/vega/vega-lite/issues/2875), `anchor` is only customizable only for [single](https://vega.github.io/vega-lite/docs/spec.html) and [layered](https://vega.github.io/vega-lite/docs/layer.html) views. For other composite views, `anchor` is always `\"start\"`.\n   */\n  anchor?: TitleAnchor;\n\n  /**\n   * A [mark style property](https://vega.github.io/vega-lite/docs/config.html#style) to apply to the title text mark.\n   *\n   * __Default value:__ `\"group-title\"`.\n   */\n  style?: string | string[];\n\n  /**\n   * \tThe integer z-index indicating the layering of the title group relative to other axis, mark and legend groups.\n   *\n   * __Default value:__ `0`.\n   *\n   * @TJS-type integer\n   * @minimum 0\n   */\n  zindex?: number;\n\n  /**\n   * Mark definitions for custom encoding.\n   *\n   * @hidden\n   */\n  encoding?: TextEncodeEntry;\n}\n\nexport interface TitleParams<ES extends ExprRef | SignalRef> extends TitleBase<ES> {\n  /**\n   * The title text.\n   */\n  text: Text | ES;\n\n  /**\n   * The subtitle Text.\n   */\n  subtitle?: Text;\n}\n\nexport function extractTitleConfig(titleConfig: TitleConfig<SignalRef>): {\n  titleMarkConfig: MarkConfig<SignalRef>;\n  subtitleMarkConfig: MarkConfig<SignalRef>;\n  /** These are non-mark title config that need to be hardcoded in the title directive. */\n  nonMarkTitleProperties: BaseTitleNoValueRefs<SignalRef>;\n  subtitle: BaseTitleNoValueRefs<SignalRef>;\n} {\n  const {\n    // These are non-mark title config that need to be hardcoded\n    anchor,\n    frame,\n    offset,\n    orient,\n    angle,\n    limit,\n\n    // color needs to be redirect to fill\n    color,\n\n    // subtitle properties\n    subtitleColor,\n    subtitleFont,\n    subtitleFontSize,\n    subtitleFontStyle,\n    subtitleFontWeight,\n    subtitleLineHeight,\n    subtitlePadding,\n\n    // The rest are mark config.\n    ...rest\n  } = titleConfig;\n\n  const titleMarkConfig: MarkConfig<SignalRef> = {\n    ...rest,\n    ...(color ? {fill: color} : {})\n  };\n\n  // These are non-mark title config that need to be hardcoded\n  const nonMarkTitleProperties: BaseTitleNoValueRefs<SignalRef> = {\n    ...(anchor ? {anchor} : {}),\n    ...(frame ? {frame} : {}),\n    ...(offset ? {offset} : {}),\n    ...(orient ? {orient} : {}),\n    ...(angle !== undefined ? {angle} : {}),\n    ...(limit !== undefined ? {limit} : {})\n  };\n\n  // subtitle part can stay in config.title since header titles do not use subtitle\n  const subtitle: BaseTitleNoValueRefs<SignalRef> = {\n    ...(subtitleColor ? {subtitleColor} : {}),\n    ...(subtitleFont ? {subtitleFont} : {}),\n    ...(subtitleFontSize ? {subtitleFontSize} : {}),\n    ...(subtitleFontStyle ? {subtitleFontStyle} : {}),\n    ...(subtitleFontWeight ? {subtitleFontWeight} : {}),\n    ...(subtitleLineHeight ? {subtitleLineHeight} : {}),\n    ...(subtitlePadding ? {subtitlePadding} : {})\n  };\n\n  const subtitleMarkConfig = pick(titleConfig, ['align', 'baseline', 'dx', 'dy', 'limit']);\n\n  return {titleMarkConfig, subtitleMarkConfig, nonMarkTitleProperties, subtitle};\n}\n\nexport function isText(v: any): v is Text {\n  return isString(v) || (isArray(v) && isString(v[0]));\n}\n"],"mappings":"AACA,SAAQA,OAAO,EAAEC,QAAQ,QAAO,WAAW;AAG3C,SAAQC,IAAI,QAAO,QAAQ;AA4D3B,OAAM,SAAUC,kBAAkBA,CAACC,WAAmC;EAOpE,MAAM;IACJ;IACAC,MAAM;IACNC,KAAK;IACLC,MAAM;IACNC,MAAM;IACNC,KAAK;IACLC,KAAK;IAEL;IACAC,KAAK;IAEL;IACAC,aAAa;IACbC,YAAY;IACZC,gBAAgB;IAChBC,iBAAiB;IACjBC,kBAAkB;IAClBC,kBAAkB;IAClBC,eAAe;IAEf;IACA,GAAGC;EAAI,CACR,GAAGf,WAAW;EAEf,MAAMgB,eAAe,GAA0B;IAC7C,GAAGD,IAAI;IACP,IAAIR,KAAK,GAAG;MAACU,IAAI,EAAEV;IAAK,CAAC,GAAG,EAAE;GAC/B;EAED;EACA,MAAMW,sBAAsB,GAAoC;IAC9D,IAAIjB,MAAM,GAAG;MAACA;IAAM,CAAC,GAAG,EAAE,CAAC;IAC3B,IAAIC,KAAK,GAAG;MAACA;IAAK,CAAC,GAAG,EAAE,CAAC;IACzB,IAAIC,MAAM,GAAG;MAACA;IAAM,CAAC,GAAG,EAAE,CAAC;IAC3B,IAAIC,MAAM,GAAG;MAACA;IAAM,CAAC,GAAG,EAAE,CAAC;IAC3B,IAAIC,KAAK,KAAKc,SAAS,GAAG;MAACd;IAAK,CAAC,GAAG,EAAE,CAAC;IACvC,IAAIC,KAAK,KAAKa,SAAS,GAAG;MAACb;IAAK,CAAC,GAAG,EAAE;GACvC;EAED;EACA,MAAMc,QAAQ,GAAoC;IAChD,IAAIZ,aAAa,GAAG;MAACA;IAAa,CAAC,GAAG,EAAE,CAAC;IACzC,IAAIC,YAAY,GAAG;MAACA;IAAY,CAAC,GAAG,EAAE,CAAC;IACvC,IAAIC,gBAAgB,GAAG;MAACA;IAAgB,CAAC,GAAG,EAAE,CAAC;IAC/C,IAAIC,iBAAiB,GAAG;MAACA;IAAiB,CAAC,GAAG,EAAE,CAAC;IACjD,IAAIC,kBAAkB,GAAG;MAACA;IAAkB,CAAC,GAAG,EAAE,CAAC;IACnD,IAAIC,kBAAkB,GAAG;MAACA;IAAkB,CAAC,GAAG,EAAE,CAAC;IACnD,IAAIC,eAAe,GAAG;MAACA;IAAe,CAAC,GAAG,EAAE;GAC7C;EAED,MAAMO,kBAAkB,GAAGvB,IAAI,CAACE,WAAW,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;EAExF,OAAO;IAACgB,eAAe;IAAEK,kBAAkB;IAAEH,sBAAsB;IAAEE;EAAQ,CAAC;AAChF;AAEA,OAAM,SAAUE,MAAMA,CAACC,CAAM;EAC3B,OAAO1B,QAAQ,CAAC0B,CAAC,CAAC,IAAK3B,OAAO,CAAC2B,CAAC,CAAC,IAAI1B,QAAQ,CAAC0B,CAAC,CAAC,CAAC,CAAC,CAAE;AACtD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}