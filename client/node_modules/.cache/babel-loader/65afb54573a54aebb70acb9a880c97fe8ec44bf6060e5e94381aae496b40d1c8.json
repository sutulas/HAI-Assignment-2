{"ast":null,"code":"import equal from 'fast-deep-equal';\nimport getUniqueFieldNames from './getUniqueFieldNames';\nexport default function computeSpecChanges(newSpec, oldSpec) {\n  if (newSpec === oldSpec) return false;\n  const changes = {\n    width: false,\n    height: false,\n    isExpensive: false\n  };\n  const fieldNames = getUniqueFieldNames([newSpec, oldSpec]);\n  if (fieldNames.has('width') && (!('width' in newSpec) || !('width' in oldSpec) || newSpec.width !== oldSpec.width)) {\n    if ('width' in newSpec && typeof newSpec.width === 'number') {\n      changes.width = newSpec.width;\n    } else {\n      changes.isExpensive = true;\n    }\n  }\n  if (fieldNames.has('height') && (!('height' in newSpec) || !('height' in oldSpec) || newSpec.height !== oldSpec.height)) {\n    if ('height' in newSpec && typeof newSpec.height === 'number') {\n      changes.height = newSpec.height;\n    } else {\n      changes.isExpensive = true;\n    }\n  } // Delete cheap fields\n\n  fieldNames.delete('width');\n  fieldNames.delete('height');\n  if ([...fieldNames].some(field => !(field in newSpec) || !(field in oldSpec) || !equal(newSpec[field], oldSpec[field]))) {\n    changes.isExpensive = true;\n  }\n  return changes.width !== false || changes.height !== false || changes.isExpensive ? changes : false;\n}","map":{"version":3,"names":["equal","getUniqueFieldNames","computeSpecChanges","newSpec","oldSpec","changes","width","height","isExpensive","fieldNames","has","delete","some","field"],"sources":["C:/Users/sutul/OneDrive/Desktop/Fall2024/Human AI Interaction/HAI-Assignment-2/client/node_modules/react-vega/esm/utils/computeSpecChanges.js"],"sourcesContent":["import equal from 'fast-deep-equal';\nimport getUniqueFieldNames from './getUniqueFieldNames';\nexport default function computeSpecChanges(newSpec, oldSpec) {\n  if (newSpec === oldSpec) return false;\n  const changes = {\n    width: false,\n    height: false,\n    isExpensive: false\n  };\n  const fieldNames = getUniqueFieldNames([newSpec, oldSpec]);\n\n  if (fieldNames.has('width') && (!('width' in newSpec) || !('width' in oldSpec) || newSpec.width !== oldSpec.width)) {\n    if ('width' in newSpec && typeof newSpec.width === 'number') {\n      changes.width = newSpec.width;\n    } else {\n      changes.isExpensive = true;\n    }\n  }\n\n  if (fieldNames.has('height') && (!('height' in newSpec) || !('height' in oldSpec) || newSpec.height !== oldSpec.height)) {\n    if ('height' in newSpec && typeof newSpec.height === 'number') {\n      changes.height = newSpec.height;\n    } else {\n      changes.isExpensive = true;\n    }\n  } // Delete cheap fields\n\n\n  fieldNames.delete('width');\n  fieldNames.delete('height');\n\n  if ([...fieldNames].some(field => !(field in newSpec) || !(field in oldSpec) || !equal(newSpec[field], oldSpec[field]))) {\n    changes.isExpensive = true;\n  }\n\n  return changes.width !== false || changes.height !== false || changes.isExpensive ? changes : false;\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,iBAAiB;AACnC,OAAOC,mBAAmB,MAAM,uBAAuB;AACvD,eAAe,SAASC,kBAAkBA,CAACC,OAAO,EAAEC,OAAO,EAAE;EAC3D,IAAID,OAAO,KAAKC,OAAO,EAAE,OAAO,KAAK;EACrC,MAAMC,OAAO,GAAG;IACdC,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,KAAK;IACbC,WAAW,EAAE;EACf,CAAC;EACD,MAAMC,UAAU,GAAGR,mBAAmB,CAAC,CAACE,OAAO,EAAEC,OAAO,CAAC,CAAC;EAE1D,IAAIK,UAAU,CAACC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,IAAIP,OAAO,CAAC,IAAI,EAAE,OAAO,IAAIC,OAAO,CAAC,IAAID,OAAO,CAACG,KAAK,KAAKF,OAAO,CAACE,KAAK,CAAC,EAAE;IAClH,IAAI,OAAO,IAAIH,OAAO,IAAI,OAAOA,OAAO,CAACG,KAAK,KAAK,QAAQ,EAAE;MAC3DD,OAAO,CAACC,KAAK,GAAGH,OAAO,CAACG,KAAK;IAC/B,CAAC,MAAM;MACLD,OAAO,CAACG,WAAW,GAAG,IAAI;IAC5B;EACF;EAEA,IAAIC,UAAU,CAACC,GAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,IAAIP,OAAO,CAAC,IAAI,EAAE,QAAQ,IAAIC,OAAO,CAAC,IAAID,OAAO,CAACI,MAAM,KAAKH,OAAO,CAACG,MAAM,CAAC,EAAE;IACvH,IAAI,QAAQ,IAAIJ,OAAO,IAAI,OAAOA,OAAO,CAACI,MAAM,KAAK,QAAQ,EAAE;MAC7DF,OAAO,CAACE,MAAM,GAAGJ,OAAO,CAACI,MAAM;IACjC,CAAC,MAAM;MACLF,OAAO,CAACG,WAAW,GAAG,IAAI;IAC5B;EACF,CAAC,CAAC;;EAGFC,UAAU,CAACE,MAAM,CAAC,OAAO,CAAC;EAC1BF,UAAU,CAACE,MAAM,CAAC,QAAQ,CAAC;EAE3B,IAAI,CAAC,GAAGF,UAAU,CAAC,CAACG,IAAI,CAACC,KAAK,IAAI,EAAEA,KAAK,IAAIV,OAAO,CAAC,IAAI,EAAEU,KAAK,IAAIT,OAAO,CAAC,IAAI,CAACJ,KAAK,CAACG,OAAO,CAACU,KAAK,CAAC,EAAET,OAAO,CAACS,KAAK,CAAC,CAAC,CAAC,EAAE;IACvHR,OAAO,CAACG,WAAW,GAAG,IAAI;EAC5B;EAEA,OAAOH,OAAO,CAACC,KAAK,KAAK,KAAK,IAAID,OAAO,CAACE,MAAM,KAAK,KAAK,IAAIF,OAAO,CAACG,WAAW,GAAGH,OAAO,GAAG,KAAK;AACrG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}